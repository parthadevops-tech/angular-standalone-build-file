import{a as ue}from"./chunk-RAYF4K6L.js";import{Aa as R,Ab as he,B as G,Ba as te,C as j,Da as ie,Ga as n,H as c,Ha as o,I as z,Ia as d,Ja as C,K as P,Ma as _,N as u,O as y,Oa as T,Ob as D,Sa as ae,T as O,Ta as ne,U as m,Ua as re,V as g,W as q,Wa as s,Ya as oe,a as x,aa as H,b as M,bb as A,ca as X,e as Y,ea as Z,f as N,fa as $,fb as se,g as Q,ga as I,ha as J,ja as h,jb as le,k as B,ka as f,kb as w,lb as S,qa as W,r as F,ua as K,va as v,ya as ee,za as p,zb as de}from"./chunk-KIS3AQ2Z.js";var pe=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-dynamic-comp"]],decls:2,vars:0,consts:[["src","https://images.pexels.com/photos/7294069/pexels-photo-7294069.jpeg?auto=compress&cs=tinysrgb&h=750&w=350","alt","image"]],template:function(t,a){t&1&&(n(0,"div"),d(1,"img",0),o())},styles:["[_nghost-%COMP%]{text-align:center}"]})}}return i})();var we=["youtubeContainer"];function Pe(i,E){if(i&1){let e=C();n(0,"youtube-player-placeholder",2),_("click",function(){m(e);let a=T();return g(a._load(!0))}),o()}if(i&2){let e=T();p("videoId",e.videoId)("width",e.width)("height",e.height)("isLoading",e._isLoading)("buttonLabel",e.placeholderButtonLabel)("quality",e.placeholderImageQuality)}}var ve=(()=>{class i{_getBackgroundImage(){let e;return this.quality==="low"?e=`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`:this.quality==="high"?e=`https://i.ytimg.com/vi/${this.videoId}/maxresdefault.jpg`:e=`https://i.ytimg.com/vi_webp/${this.videoId}/sddefault.webp`,`url(${e})`}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=u({type:i,selectors:[["youtube-player-placeholder"]],hostAttrs:[1,"youtube-player-placeholder"],hostVars:8,hostBindings:function(t,a){t&2&&(R("background-image",a._getBackgroundImage())("width",a.width,"px")("height",a.height,"px"),te("youtube-player-placeholder-loading",a.isLoading))},inputs:{videoId:"videoId",width:"width",height:"height",isLoading:"isLoading",buttonLabel:"buttonLabel",quality:"quality"},standalone:!0,features:[A],decls:4,vars:1,consts:[["type","button",1,"youtube-player-placeholder-button"],["height","100%","version","1.1","viewBox","0 0 68 48","focusable","false","aria-hidden","true"],["d","M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z","fill","#f00"],["d","M 45,24 27,14 27,34","fill","#fff"]],template:function(t,a){t&1&&(n(0,"button",0),q(),n(1,"svg",1),d(2,"path",2)(3,"path",3),o()()),t&2&&ee("aria-label",a.buttonLabel)},styles:[".youtube-player-placeholder{display:flex;align-items:center;justify-content:center;width:100%;overflow:hidden;cursor:pointer;background-color:#000;background-position:center center;background-size:cover;transition:box-shadow 300ms ease;box-shadow:inset 0 120px 90px -90px rgba(0,0,0,.8)}.youtube-player-placeholder-button{transition:opacity 300ms ease;-moz-appearance:none;-webkit-appearance:none;background:none;border:none;padding:0;display:flex}.youtube-player-placeholder-button svg{width:68px;height:48px}.youtube-player-placeholder-loading{box-shadow:none}.youtube-player-placeholder-loading .youtube-player-placeholder-button{opacity:0}"],encapsulation:2,changeDetection:0})}}return i})(),Ce=new z("YOUTUBE_PLAYER_CONFIG"),ce=640,ye=390;function me(i){return i==null?i:S(i,0)}var l=function(i){return i[i.UNSTARTED=-1]="UNSTARTED",i[i.ENDED=0]="ENDED",i[i.PLAYING=1]="PLAYING",i[i.PAUSED=2]="PAUSED",i[i.BUFFERING=3]="BUFFERING",i[i.CUED=5]="CUED",i}(l||{}),ge=(()=>{class i{get height(){return this._height}set height(e){this._height=e==null||isNaN(e)?ye:e}get width(){return this._width}set width(e){this._width=e==null||isNaN(e)?ce:e}constructor(e,t){this._ngZone=e,this._destroyed=new N,this._playerChanges=new Q(void 0),this._nonce=P(Z,{optional:!0}),this._changeDetectorRef=P(le),this._isLoading=!1,this._hasPlaceholder=!0,this._height=ye,this._width=ce,this.disableCookies=!1,this.disablePlaceholder=!1,this.showBeforeIframeApiLoads=!1,this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange");let a=P(Ce,{optional:!0});this.loadApi=a?.loadApi??!0,this.disablePlaceholder=!!a?.disablePlaceholder,this.placeholderButtonLabel=a?.placeholderButtonLabel||"Play video",this.placeholderImageQuality=a?.placeholderImageQuality||"standard",this._isBrowser=he(t)}ngAfterViewInit(){this._conditionallyLoad()}ngOnChanges(e){this._shouldRecreatePlayer(e)?this._conditionallyLoad():this._player&&((e.width||e.height)&&this._setSize(),e.suggestedQuality&&this._setQuality(),(e.startSeconds||e.endSeconds||e.suggestedQuality)&&this._cuePlayer())}ngOnDestroy(){this._pendingPlayer?.destroy(),this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():(this._getPendingState().playbackState=l.PLAYING,this._load(!0))}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=l.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=l.CUED}seekTo(e,t){this._player?this._player.seekTo(e,t):this._getPendingState().seek={seconds:e,allowSeekAhead:t}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():this._pendingPlayerState?!!this._pendingPlayerState.muted:!1}setVolume(e){this._player?this._player.setVolume(e):this._getPendingState().volume=e}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&this._pendingPlayerState.volume!=null?this._pendingPlayerState.volume:0}setPlaybackRate(e){if(this._player)return this._player.setPlaybackRate(e);this._getPendingState().playbackRate=e}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&this._pendingPlayerState.playbackRate!=null?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(!(!this._isBrowser||!window.YT))return this._player?this._player.getPlayerState():this._pendingPlayerState&&this._pendingPlayerState.playbackState!=null?this._pendingPlayerState.playbackState:l.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_load(e){this._isBrowser&&(!window.YT||!window.YT.Player?(this.loadApi?(this._isLoading=!0,Se(this._nonce)):this.showBeforeIframeApiLoads,this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback?.(),this._ngZone.run(()=>this._createPlayer(e))}):this._createPlayer(e))}_conditionallyLoad(){this._shouldShowPlaceholder()?this.playerVars?.autoplay===1&&this._load(!0):this._load(!1)}_shouldShowPlaceholder(){return this.disablePlaceholder?!1:this._isBrowser?this._hasPlaceholder&&!!this.videoId&&!this._player:!0}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_shouldRecreatePlayer(e){let t=e.videoId||e.playerVars||e.disableCookies||e.disablePlaceholder;return!!t&&!t.isFirstChange()}_createPlayer(e){if(this._player?.destroy(),this._pendingPlayer?.destroy(),typeof YT>"u"||!this.videoId&&!this.playerVars?.list)return;let t=this._ngZone.runOutsideAngular(()=>new YT.Player(this.youtubeContainer.nativeElement,{videoId:this.videoId,host:this.disableCookies?"https://www.youtube-nocookie.com":void 0,width:this.width,height:this.height,playerVars:e?M(x({},this.playerVars||{}),{autoplay:1}):this.playerVars})),a=()=>{this._ngZone.run(()=>{this._isLoading=!1,this._hasPlaceholder=!1,this._player=t,this._pendingPlayer=void 0,t.removeEventListener("onReady",a),this._playerChanges.next(t),this._setSize(),this._setQuality(),this._pendingPlayerState&&(this._applyPendingPlayerState(t,this._pendingPlayerState),this._pendingPlayerState=void 0);let r=t.getPlayerState();(r===l.UNSTARTED||r===l.CUED||r==null)&&this._cuePlayer(),this._changeDetectorRef.markForCheck()})};this._pendingPlayer=t,t.addEventListener("onReady",a)}_applyPendingPlayerState(e,t){let{playbackState:a,playbackRate:r,volume:b,muted:U,seek:L}=t;switch(a){case l.PLAYING:e.playVideo();break;case l.PAUSED:e.pauseVideo();break;case l.CUED:e.stopVideo();break}r!=null&&e.setPlaybackRate(r),b!=null&&e.setVolume(b),U!=null&&(U?e.mute():e.unMute()),L!=null&&e.seekTo(L.seconds,L.allowSeekAhead)}_cuePlayer(){this._player&&this.videoId&&this._player.cueVideoById({videoId:this.videoId,startSeconds:this.startSeconds,endSeconds:this.endSeconds,suggestedQuality:this.suggestedQuality})}_setSize(){this._player?.setSize(this.width,this.height)}_setQuality(){this._player&&this.suggestedQuality&&this._player.setPlaybackQuality(this.suggestedQuality)}_getLazyEmitter(e){return this._playerChanges.pipe(G(t=>t?F(a=>{t.addEventListener(e,a)},a=>{try{t?.removeEventListener?.(e,a)}catch{}}):B()),t=>new Y(a=>t.subscribe({next:r=>this._ngZone.run(()=>a.next(r)),error:r=>a.error(r),complete:()=>a.complete()})),j(this._destroyed))}static{this.\u0275fac=function(t){return new(t||i)(f(H),f(X))}}static{this.\u0275cmp=u({type:i,selectors:[["youtube-player"]],viewQuery:function(t,a){if(t&1&&ae(we,7),t&2){let r;ne(r=re())&&(a.youtubeContainer=r.first)}},inputs:{videoId:"videoId",height:[2,"height","height",S],width:[2,"width","width",S],startSeconds:[2,"startSeconds","startSeconds",me],endSeconds:[2,"endSeconds","endSeconds",me],suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:[2,"disableCookies","disableCookies",w],loadApi:[2,"loadApi","loadApi",w],disablePlaceholder:[2,"disablePlaceholder","disablePlaceholder",w],showBeforeIframeApiLoads:[2,"showBeforeIframeApiLoads","showBeforeIframeApiLoads",w],placeholderButtonLabel:"placeholderButtonLabel",placeholderImageQuality:"placeholderImageQuality"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},standalone:!0,features:[K,O,A],decls:4,vars:3,consts:[["youtubeContainer",""],[3,"videoId","width","height","isLoading","buttonLabel","quality"],[3,"click","videoId","width","height","isLoading","buttonLabel","quality"]],template:function(t,a){t&1&&(v(0,Pe,1,6,"youtube-player-placeholder",1),n(1,"div"),d(2,"div",null,0),o()),t&2&&(ie(a._shouldShowPlaceholder()?0:-1),h(),R("display",a._shouldShowPlaceholder()?"none":""))},dependencies:[ve],encapsulation:2,changeDetection:0})}}return i})(),V=!1;function Se(i){if(V)return;let E="https://www.youtube.com/iframe_api",e=document.createElement("script"),t=a=>{e.removeEventListener("load",t),e.removeEventListener("error",t),a.type==="error"&&(V=!1)};e.addEventListener("load",t),e.addEventListener("error",t),e.src=E,e.async=!0,i&&e.setAttribute("nonce",i),V=!0,document.body.appendChild(e)}var fe=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=y({type:i})}static{this.\u0275inj=c({})}}return i})();function Ee(i,E){}var _e=(()=>{class i{constructor(e,t){this.viewRef=e,this.secure=t,this.apiLoaded=!1,this.videoId="3IXwN4XJywQ"}ngOnInit(){if(this.dangerousUrl='javascript:alert("Hi there")',this.trustedUrl=this.secure.getsafeURL(this.dangerousUrl),!this.apiLoaded){let e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),this.apiLoaded=!0}this.dangerousVideoUrl="https://www.youtube.com/embed/tgbNymZ7vqY",this.videoUrl=this.secure.getsafeResoueceURL(this.dangerousVideoUrl)}showDynamicComponent(){this.viewRef.createComponent(pe)}removeDynamicComponent(){this.viewRef.clear()}getXSSValue(){this.safeValue=this.secure.getSafeHtml("<h1>Sanitization Success</h1>")}static{this.\u0275fac=function(t){return new(t||i)(f(W),f(ue))}}static{this.\u0275cmp=u({type:i,selectors:[["app-general"]],decls:34,vars:5,consts:[["dynamic",""],[1,"buttons-container"],[1,"show-btn",3,"click"],[1,"remove-btn",3,"click"],[3,"innerHTML"],[1,"e2e-dangerous-url",3,"href"],[1,"e2e-trusted-url",3,"href"],["videoId","3IXwN4XJywQ"],["width","640","height","390",3,"src"]],template:function(t,a){if(t&1){let r=C();n(0,"div",1)(1,"button",2),_("click",function(){return m(r),g(a.showDynamicComponent())}),s(2,"Show component"),o(),n(3,"button",3),_("click",function(){return m(r),g(a.removeDynamicComponent())}),s(4," Remove component "),o(),n(5,"button",3),_("click",function(){return m(r),g(a.getXSSValue())}),s(6," Get XSS Html value "),o()(),v(7,Ee,0,0,"ng-template",null,0,se),d(9,"div",4)(10,"br")(11,"br"),n(12,"h4"),s(13,"An untrusted URL:"),o(),n(14,"p")(15,"a",5),s(16,"Click me"),o()(),n(17,"h4"),s(18,"A trusted URL:"),o(),n(19,"p")(20,"a",6),s(21,"Click me"),o()(),d(22,"br")(23,"br"),n(24,"h4"),s(25,"Resource URL:"),o(),n(26,"p"),s(27),o(),n(28,"p"),s(29,"Trusted:"),o(),d(30,"youtube-player",7)(31,"br")(32,"br")(33,"iframe",8)}t&2&&(h(9),p("innerHTML",a.safeValue,$),h(6),p("href",a.dangerousUrl,I),h(5),p("href",a.trustedUrl,I),h(7),oe("Showing: ",a.dangerousVideoUrl,""),h(6),p("src",a.videoUrl,J))},dependencies:[ge]})}}return i})();var Le=[{path:"",children:[{path:"",component:_e}]}],be=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=y({type:i})}static{this.\u0275inj=c({imports:[D.forChild(Le),D]})}}return i})();var Ke=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=y({type:i})}static{this.\u0275inj=c({imports:[de,be,fe]})}}return i})();export{Ke as GeneralModule};
